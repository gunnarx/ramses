<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAMSES Documentation: Using DLT with RAMSES</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ramses_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAMSES Documentation
   &#160;<span id="projectnumber">25.0.1</span>
   </div>
   <div id="projectbrief">Information for RAMSES users and developers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Using DLT with RAMSES </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>What is being logged by RAMSES and where</h1>
<p>RAMSES has a lot of logging information, but most of it is hidden (log level debug or lower) unless explicitly enabled in order to avoid spam. Two of the things which are always logged are:</p><ul>
<li>The RAMSES version and some system information the first time a ramses application is instantiated</li>
<li>Changes to scene states (new scene published, existing scene shown/hidden, etc.)</li>
</ul>
<p>Other logs have to be enabled explicitly by turning up the log level of the corresponding log contexts within the application which is being debugged.</p>
<h1>Application ID</h1>
<p>DLT allows each application to have an application ID. Since RAMSES is not a standalone application, it doesn't have its own application ID. It is recommended that every application using RAMSES sets a unique application ID via RamsesFramework::setDLTApplicationID(). The application ID (visible in DltViewer for every log message) can be used to easily identify which RAMSES instance was the source of that log message. Be watchful when filtering logs to filter for the correct application ID - this is possible by either enabling the log contexts for that specific application ID only and disabling the rest, or by specifying it in the log filters.</p>
<h1>User-related log contexts</h1>
<p><b>RAPI</b><br />
 Contains all "non-const" calls to RAMSES Client API methods, such as Scene::createMeshNode(). These log messages are logged with trace log level for performance reasons. To enable it, the context log level must be set to "verbose" from the DLT Viewer.</p>
<p><b>RAPR</b><br />
 Same as RAPI, but shows the calls to the RAMSES Renderer API, such as RamsesRenderer::startThread()</p>
<p><b>RMSH</b><br />
 Used to pass DLT injections to RAMSES over the ramses shell (RAMSH) - see below how to do that</p>
<p><b>RRND</b><br />
 Shows state changes of scenes on the renderer. This includes availability and subscription status as well as whether the scene is mapped (i.e. on the GPU) and shown (being rendered to a buffer, not necessarily visible)</p>
<h1>Other, less interesting log contexts</h1>
<p><b>RFRA</b><br />
 Internal logs from the ramses framework.</p>
<p><b>RCLI</b><br />
 Internal logs from the ramses client.</p>
<p><b>RCOM</b><br />
 Logs from the communication/distribution subsystem.</p>
<p><b>RPRO</b><br />
 Profiling logs.</p>
<p><b>RSMT</b><br />
 Used for automated smoke tests.</p>
<h1>DLT injections</h1>
<p>DLT provides a way to send messages to an application, called "injections". Injections are typically used for debugging purposes such as enabling specific features temporarily or controlling the flow of the application.</p>
<p>In order to send an injection to RAMSES:</p><ul>
<li>right click the Ramsh context (RMSH)</li>
<li>select 'Send injection...'</li>
<li>set service id to 5000 (RAMSES utilizes only one service with a fixed port)</li>
<li>enter the Ramsh command as plain text in the 'Data' field</li>
</ul>
<div class="image">
<img src="dltviewer_context_inject.png" alt="dltviewer_context_inject.png"/>
<div class="caption">
DLT injection for a given context</div></div>
 <div class="image">
<img src="dltviewer_injection.png" alt="dltviewer_injection.png"/>
<div class="caption">
DLT injection service id + payload</div></div>
<p> The simplest command which prints all available commands is 'help'. Useful commands are:</p><ul>
<li>validate: checks the validity and prints the state of a scene of a ramses client</li>
<li>rinfo: prints the internal state of the RAMSES renderer</li>
<li>dumpSceneToFile: saves a scene to file(s) and sends the file optionally over DLT </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
