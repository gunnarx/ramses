<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAMSES Documentation: RAMSES Client API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ramses_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAMSES Documentation
   &#160;<span id="projectnumber">25.0.1</span>
   </div>
   <div id="projectbrief">Information for RAMSES users and developers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RAMSES Client API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Object scopes</h1>
<p>Objects of the RAMSES Client API live in different scopes, which determine</p><ul>
<li>who creates the object</li>
<li>where this objects can be used</li>
<li>who destroys the object (and when)</li>
</ul>
<p>Scope: RamsesClient Instance</p><ul>
<li>Objects are created and destroyed with the RamsesClient object</li>
<li>Examples for client objects: Scene, Client resources (immutable Textures, Vertex arrays, Effects...)</li>
<li>On destruction of RamsesClient, objects of this RamsesClient instance will be deleted automatically</li>
<li>To destroy objects created by RamsesClient, one must explicitly call RamsesClient::destroy(objectToDestroy)</li>
<li>Object of this scope can be used for all operations in this RamsesClient instance.</li>
</ul>
<p>Scope: Scene Instance</p><ul>
<li>Objects are created and destroyed with the Scene object</li>
<li>Examples for scene objects: Node, MeshNode, Camera, Appearance, ...</li>
<li>On destruction of Scene, objects in this Scene instance will be deleted automatically</li>
<li>To destroy objects created by Scene, one must explicitly call Scene::destroy(objectToDestroy)</li>
<li>Objects of this scene instance can be used only with objects of the same scene instance</li>
<li>Mixing up objects of different scene instances will result in error status or undefined behaviour (e.g. setting a parent-child relationship between nodes of different scenes; see Validation)</li>
</ul>
<p>Scope: Animation System</p><ul>
<li>Objects are created and destroyed with the AnimationSystem object.</li>
<li>On destruction of AnimationSystem, objects in this AnimationSystem instance will be deleted automatically</li>
<li>To destroy objects created by AnimationSystem, one must explicitly call AnimationSystem::destroy()</li>
<li>Objects of this AnimationSystem instance can be used only with objects of the AnimationSystem instance</li>
<li>Mixing up objects of different AnimationSystem instances will result in error status or undefined behaviour</li>
</ul>
<h1>Object lifecycle</h1>
<p>Object lifecycle is an important topic in any C++ framework. In the case of RAMSES, creation and destruction is strict, straightforward and simple, but leaves the responsibility of object deletion in some cases to the user.</p>
<p>As described in the Scopes chapter, the ownership of objects is defined by their scope. A MeshNode is owned by a Scene, which is owned by a RamsesClient. If a RamsesClient is destroyed, all of its scenes will be destroyed automatically, which in turn will destroy the MeshNodes in those scenes and so on. This implicit destruction done by RAMSES is limited to this case only, ie. when the 'owner' is destroyed then all the objects created within this owner are destroyed and any pointers to those become invalid.</p>
<p>There is no reference counting of any sort therefore RAMSES will not automatically destroy an object if it is not used by any other object and therefore user is responsible for destroying unused content to free up resources. Creation and destruction of objects can cause performance hit on both client and renderer so it is recommended to consider some caching strategy on the application side.</p>
<h1>Return status</h1>
<p>The RAMSES API is designed to check most errors on usage - for example trying to create TextureSampler using a write-only RenderBuffer will result in error. The error message will appear in log and/or can be retrieved by using RamsesClient::getStatusMessage and passing the status code returned from the API call.</p>
<p>It is highly recommended to check the status of every RAMSES API call, at least in debug configuration. See <a class="el" href="Validation.html">RAMSES Validation</a> to find out other ways of checking the state of RAMSES objects. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
