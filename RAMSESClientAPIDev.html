<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAMSES Documentation: RAMSES Client API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ramses_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAMSES Documentation
   &#160;<span id="projectnumber">25.0.1</span>
   </div>
   <div id="projectbrief">Information for RAMSES users and developers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RAMSES Client API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>RAMSES Client Code Structure</h1>
<p>The Client API and its implementation are separated using the PIMPL(*) pattern, to support a high degree of API stability, while still being able to change almost any aspect of the underlying implementation.</p>
<p>(*) PIMPL = Pointer to IMPLementation</p>
<p>The RAMSES Renderer API follows the same priniciples as the Client API, just with much smaller number of classes.</p>
<h1>Object Lifecycle</h1>
<p>The RAMSES Client API was designed with efficient data structures for distributed use cases. The major impact of that design decision is a strict memory management strategy implemented in the RAMSES framework. Another direct result is the mandatory use of factories to create (and destroy) all framework managed data structures.</p>
<p>All objects created by one of the client API factories (RamsesClient, Scene or AnimationSystem) are owned by the object containing the factory and must be destroyed with the corresponding destroy() function. Using an object after passing it to a destroy() function is an application bug. Destroying the factory automatically destroys all its managed objects.</p>
<p>Any object created by application code is owned by application. RAMSES takes neither ownership nor longer term reference unless explicitly specified in the API.</p>
<h1>Resulting Code Rules</h1>
<ol type="1">
<li><b>Every RAMSES client object derives from RamsesObject, directly or indirectly</b><ul>
<li>RamsesObject provides functionality common for all RAMSES objects</li>
</ul>
</li>
<li><b>Make its constructor, destructor protected, Copy/Move-constructor deleted</b><ul>
<li>force applications to use factories</li>
</ul>
</li>
<li><b>Every PIMPL object derives from RamsesObjectImpl, directly or indirectly</b><ul>
<li>RamsesObjectImpl provides functionality common for all PIMPL objects</li>
</ul>
</li>
<li><b>Define factory as its friend</b></li>
<li><b>The high level API implementation only forwards calls to the internal PIMPL class, only the PIMPL contains logic and has access to internal framework.</b></li>
<li><b>Factory owns RAMSES client object and the client object owns its PIMPL</b></li>
<li><b>PIMPLS refer to internal framework data</b><ul>
<li>PIMPLS control lifecycle of internal data</li>
</ul>
</li>
<li><b>RAMSES objects are passed as references into all API functions unless nullptr is a valid parameter</b> </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
